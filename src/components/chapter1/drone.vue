<template>
  <div class="homeDrone">
    <div class="homeDrone--svg">
      <svg width="1142px" height="661px" viewBox="0 0 1142 661" version="1.1" class="homeDrone--svg--content">
          <g id="Welcome" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
              <g id="intro" transform="translate(-97.000000, -170.000000)">
                  <g id="Group" transform="translate(96.000000, 171.000000)">
                      <text class="homeDrone--svg--content--opacity" id="Type-de-moteur-:-Rot" font-family="AvenirNext-Regular, Avenir Next" font-size="20" font-weight="normal" fill="#FFFFFF">
                          <tspan x="811" y="651">Type de moteur : Rotax 914F</tspan>
                      </text>
                      <text class="homeDrone--svg--content--opacity" id="Envergure-:-16,8-m" font-family="AvenirNext-Regular, Avenir Next" font-size="20" font-weight="normal" fill="#FFFFFF">
                          <tspan x="0" y="423">Envergure : 16,8 m</tspan>
                      </text>
                      <text class="homeDrone--svg--content--opacity" id="Rayon-d'action-:-1-2" font-family="AvenirNext-Regular, Avenir Next" font-size="20" font-weight="normal" fill="#FFFFFF">
                          <tspan x="834" y="47">Rayon d'action : 1 250 km</tspan>
                      </text>
                      <g id="Predator-anoted" transform="translate(107.000000, 0.000000)">
                          <g id="Layer_2-2" stroke="#FFFFFF" fill-rule="nonzero">
                              <polygon class="homeDrone--svg--content--draw" id="Shape" stroke-width="2" points="0 291.09 0 323.09 498.57 345.09 497.41 264.08"></polygon>
                              <polygon class="homeDrone--svg--content--draw" id="Shape" stroke-width="2" points="1035 291.09 1035 323.09 536.43 345.09 537.59 264.08"></polygon>
                              <path class="homeDrone--svg--content--draw" d="M505.57,562.23 C450.17,561.42 434.67,558.08 502.67,556.75 L505.57,562.23 Z" id="Shape"></path>
                              <path class="homeDrone--svg--content--draw" d="M529.43,562.23 C584.83,561.42 600.33,558.08 532.33,556.75 L529.43,562.23 Z" id="Shape"></path>
                              <path class="homeDrone--svg--content--draw" d="M517.28,0.42 C517.28,0.42 560.61,15.42 548.61,108.42 C536.61,201.42 537.61,224.75 537.61,251.09 C537.61,277.43 536.61,451.76 540.61,485.09 C544.61,518.42 525.94,584.42 517.28,584.42 L517.66,584.42 C508.99,584.42 490.33,518.42 494.33,485.09 C498.33,451.76 497.33,277.42 497.33,251.09 C497.33,224.76 498.33,201.42 486.33,108.42 C474.33,15.42 517.66,0.42 517.66,0.42" id="Shape" stroke-width="3"></path>
                              <polygon class="homeDrone--svg--content--draw" id="Shape" stroke-width="3" points="502.67 491.75 502.67 533.75 381.25 539.33 379.25 496.08"></polygon>
                              <polygon class="homeDrone--svg--content--draw" id="Shape" stroke-width="3" points="532.33 491.75 532.33 533.75 653.75 539.33 655.75 496.08"></polygon>
                              <polyline class="homeDrone--svg--content--draw" id="Shape" stroke-width="3" points="556.67 345.09 556.67 314.75 1027.33 303.42 1030.33 322.75"></polyline>
                              <polyline class="homeDrone--svg--content--draw" id="Shape" stroke-width="3" points="478.33 345.09 478.33 314.75 7.67 303.42 4.67 322.75"></polyline>
                              <path class="homeDrone--svg--content--draw" d="M787.01,309.2 L787.88,334.22" id="Shape" stroke-width="3"></path>
                              <path class="homeDrone--svg--content--draw" d="M247.99,309.2 L246.75,334.27" id="Shape" stroke-width="3"></path>
                          </g>
                          <g id="Layer_4" transform="translate(85.000000, 59.000000)" stroke="#FFD030">
                              <circle id="Oval" class="homeDrone--svg--content--drawCircle" stroke-width="5" cx="462" cy="75.53" r="44.79"></circle>
                              <circle id="Oval" class="homeDrone--svg--content--drawCircle" stroke-width="2" cx="461.99" cy="75.53" r="39.66"></circle>
                              <circle id="Oval" class="homeDrone--svg--content--drawCircle" stroke-width="5" cx="161.75" cy="275.27" r="44.79"></circle>
                              <circle id="Oval" class="homeDrone--svg--content--drawCircle" stroke-width="2" cx="161.75" cy="275.27" r="39.66"></circle>
                              <circle id="Oval" class="homeDrone--svg--content--drawCircle" stroke-width="5" cx="432.47" cy="497.75" r="44.79"></circle>
                              <circle id="Oval" class="homeDrone--svg--content--drawCircle" stroke-width="2" cx="432.47" cy="497.75" r="39.66"></circle>
                              <polyline id="Shape" class="homeDrone--svg--content--drawLine" stroke-width="3" points="495.7 46.04 541.08 0.66 627 0.66"></polyline>
                              <polyline id="Shape" class="homeDrone--svg--content--drawLine" stroke-width="3" points="132.25 308.96 106 372.08 0 372.08"></polyline>
                              <polyline id="Shape" class="homeDrone--svg--content--drawLine" stroke-width="3" points="462 531.42 492.41 599.08 594 599.08"></polyline>
                          </g>
                      </g>
                  </g>
              </g>
          </g>
      </svg>
    </div>
    <div class="homeDrone--txt">
      <p class="homeDrone--txt--content"><span>U</span>n drone est un aéronef réutilisable, sans pilote embarqué, le plus souvent dirigé par un pilote au sol.</br> Depuis plusieurs années plusieurs pays, des drones sont utilisés pour mener des missions de renseignement, d’observations, et des missions de destruction d’objectifs : batiments, véhicules mais aussi des Hommes.</p>
    </div>
    <div class="buttonSlide">
      <img src="/static/img/left.svg" alt="#" class="homeDronebuttonSlide--left buttonSlide--button">
      <img src="/static/img/right.svg" alt="#" class="homeDronebuttonSlide--right buttonSlide--button">
    </div>
  </div>
</template>

<script>

import ScrollingEvent from '@/components/global/js/scroll.js'
export default {
  name: 'chapter1-etape1',
  mounted: function () {

    const Scrolling = new ScrollingEvent('.homeDrone', '/chapitre1/presentation', '/chapitre1/', 500)
    setTimeout(function ()
    {
      Scrolling.goTo();
    }, 1500)
    Scrolling.enter();
    // pagination
    const current = document.querySelector('.chapter1 .slide');
    const pagination = document.querySelector('.chapter1 .slide--content--current');
    const number = current.getAttribute("data-slide");
    const theMargin = 1 * number;
    pagination.style.marginLeft =  theMargin + "%";

    setTimeout(function ()
    {
      const left = document.querySelector('.homeDronebuttonSlide--left');
      const right = document.querySelector('.homeDronebuttonSlide--right');

      right.addEventListener('click', function(){
        Scrolling.anime(-1, '/chapitre1/presentation');
      });
      left.addEventListener('click', function(){
        Scrolling.anime(-1, '/chapitre1/');
      });
    }, 500)
    
    var vol = document.getElementById("chap1audio");
    var currentvol = 0;
    var lowVol = true;
    if(lowVol === true)
    {
      var inter = setInterval(function ()
      {
        if(vol.volume < 0.3)
        {
          vol.volume += 0.2;
        }
        else
        {
          clearInterval(inter);
          lowVol = false;

        }
      }, 200)
    }
  }
}
</script>
